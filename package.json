{
    "name": "adblock",
    "displayName": "Adblock/AdGuard/uBlock filters grammar",
    "description": "VS code extension that adds support for ad blocking rules syntax.",
    "version": "1.0.1",
    "publisher": "adguard",
    "icon": "icons/aglint_128x128.png",
    "main": "./client/out/extension",
    "engines": {
        "vscode": "^1.74.0"
    },
    "categories": [
        "Programming Languages",
        "Linters"
    ],
    "license": "MIT",
    "repository": {
        "type": "git",
        "url": "https://github.com/AdguardTeam/VscodeAdblockSyntax.git"
    },
    "bugs": {
        "url": "https://github.com/AdguardTeam/VscodeAdblockSyntax/issues"
    },
    "capabilities": {
        "untrustedWorkspaces": {
            "supported": "limited",
            "description": "Only syntax highlighting supported."
        },
        "virtualWorkspaces": {
            "supported": "limited",
            "description": "Only syntax highlighting supported. Linter uses Node.js filesystem API, which is not supported in virtual workspaces."
        }
    },
    "contributes": {
        "languages": [
            {
                "id": "adblock",
                "aliases": [
                    "adblock",
                    "adguard",
                    "ublock"
                ],
                "extensions": [
                    ".txt"
                ],
                "configuration": "./language-configuration.json"
            }
        ],
        "grammars": [
            {
                "language": "adblock",
                "scopeName": "text.adblock",
                "path": "./syntaxes/out/adblock.plist",
                "embeddedLanguages": {
                    "source.js": "javascript"
                }
            }
        ],
        "configuration": {
            "type": "object",
            "title": "Adblock",
            "properties": {
                "adblock.enableAglint": {
                    "scope": "resource",
                    "type": "boolean",
                    "default": true,
                    "description": "Enable or disable AGLint integration. If disabled, only syntax highlighting and other language features will be available."
                },
                "adblock.useExternalAglintPackages": {
                    "scope": "resource",
                    "type": "boolean",
                    "default": true,
                    "description": "If enabled, extension will search for AGLint installations in the system. If disabled, extension will use its own AGLint installation, which is included in the extension (integrated AGLint bundle). If you have AGLint installed in your system / project, it is recommended to enable this option in order to provide consistent results."
                },
                "adblock.packageManager": {
                    "scope": "resource",
                    "type": "string",
                    "enum": [
                        "npm",
                        "yarn",
                        "pnpm"
                    ],
                    "enumDescriptions": [
                        "Node Package Manager",
                        "Yarn Package Manager",
                        "pnpm Package Manager"
                    ],
                    "default": "npm",
                    "description": "Package manager to use for searching global AGLint installations. Set it to your preferred package manager."
                }
            }
        }
    },
    "scripts": {
        "dev": "yarn concurrently -n grammar,client,server,aglint \"ts-node tools/grammar-builder.ts\" \"esbuild ./client/src/extension.ts --bundle --outfile=client/out/extension.js --external:vscode --format=cjs --platform=node --sourcemap\" \"esbuild ./server/src/server.ts --bundle --outfile=server/out/server.js --external:vscode --external:./integrated-aglint --format=cjs --platform=node --sourcemap\" \"esbuild ./server/src/aglint.ts --bundle --outfile=server/out/aglint.js --format=cjs --platform=node --sourcemap\"",
        "dev-watch": "concurrently -n watch-client,watch-server,watch-aglint \"esbuild ./client/src/extension.ts --bundle --outfile=client/out/extension.js --external:vscode --format=cjs --platform=node --sourcemap --watch\" \"esbuild ./server/src/server.ts --bundle --outfile=server/out/server.js --external:vscode --external:./integrated-aglint --format=cjs --platform=node --sourcemap --watch\" \"esbuild ./server/src/aglint.ts --bundle --outfile=server/out/aglint.js --format=cjs --platform=node --sourcemap --watch\"",
        "prod": "yarn clean && ts-node tools/grammar-builder.ts && esbuild ./client/src/extension.ts --bundle --outfile=client/out/extension.js --external:vscode --format=cjs --platform=node --minify && yarn esbuild ./server/src/server.ts --bundle --outfile=server/out/server.js --external:vscode --external:\"./integrated-aglint\" --format=cjs --platform=node --minify && yarn esbuild ./server/src/aglint.ts --bundle --outfile=server/out/aglint.js --format=cjs --platform=node --minify",
        "clean": "rimraf ./client/out && rimraf ./server/out && rimraf ./syntaxes/out",
        "test-compile": "tsc -p ./client --noEmit && tsc -p ./server --noEmit",
        "lint": "yarn lint:ts && yarn lint:md",
        "lint:md": "markdownlint .",
        "lint:ts": "eslint . --cache --ext .ts",
        "test": "jest",
        "generate-vsix": "vsce package --yarn --out vscode-adblock.vsix",
        "postinstall": "cd client && yarn && cd ../server && yarn && cd ..",
        "prepare": "husky install"
    },
    "devDependencies": {
        "@swc/core": "^1.3.76",
        "@swc/jest": "^0.2.28",
        "@types/fs-extra": "^11.0.1",
        "@types/jest": "^29.5.1",
        "@types/node": "^18.11.18",
        "@types/plist": "^3.0.2",
        "@typescript-eslint/eslint-plugin": "^6.3.0",
        "@typescript-eslint/parser": "^6.3.0",
        "concurrently": "^8.0.1",
        "esbuild": "^0.17.17",
        "eslint": "^8.46.0",
        "eslint-config-airbnb-typescript": "^17.1.0",
        "eslint-plugin-import": "^2.27.5",
        "eslint-plugin-import-newlines": "^1.3.4",
        "eslint-plugin-jsdoc": "^46.4.6",
        "fs-extra": "^11.1.1",
        "husky": "^8.0.3",
        "jest": "^29.6.2",
        "jsdoc": "^4.0.2",
        "markdownlint": "^0.30.0",
        "markdownlint-cli": "^0.35.0",
        "plist": "^3.0.6",
        "rimraf": "^4.1.2",
        "ts-jest": "^29.1.0",
        "ts-node": "^10.9.1",
        "typescript": "^4.9.5",
        "vscode-oniguruma": "^1.7.0",
        "vscode-textmate": "^9.0.0",
        "yaml": "^2.2.2"
    }
}
