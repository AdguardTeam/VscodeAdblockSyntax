{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"name": "Adblock",
	"patterns": [
		{
			"include": "#adblockAgent"
		},
		{
			"include": "#preprocessor"
		},
		{
			"include": "#comments"
		},
		{
			"include": "#snippetRulesABP"
		},
		{
			"include": "#cssRules"
		},
		{
			"include": "#scriptletRules"
		},
		{
			"include": "#scriptletRulesUBO"
		},
		{
			"include": "#jsRules"
		},
		{
			"include": "#contentRules"
		},
		{
			"include": "#elemhideRules"
		},
		{
			"include": "#basicRulesNoUrl"
		},
		{
			"include": "#basicRules"
		}
	],
	"repository": {
		"adblockAgent": {
			"patterns": [
				{
					"match": "^(\\[)([^\\]]+)(\\])\\s*$",
					"captures": {
						"1": {
							"name": "punctuation.definition.array.start.ablock.agent"
						},
						"2": {
							"patterns": [
								{
									"include": "#adblockData"
								},
								{
									"match": ";",
									"name": "punctuation.separator"
								},
								{
									"name": "invalid.illegal",
									"match": ".*"
								}
							]
						},
						"3": {
							"name": "punctuation.definition.array.end.ablock.agent"
						}
					}
				}
			]
		},
		"adblockData": {
			"patterns": [
				{
					"match": "(?:\\s*)([Aa]d[Bb]lock(?:\\s[Pp]lus)?|u[Bb]lock(?:\\s[Oo]rigin)?|[Aa]d[Gg]uard)(?:\\s+(\\d+(?:\\.\\d+)*+\\+?))?(?:\\s*)",
					"captures": {
						"1": {
							"name": "constant.language.agent.adblocker.name"
						},
						"2": {
							"name": "constant.numeric.decimal"
						}
					}
				}
			]
		},
		"preprocessor": {
			"patterns": [
				{
					"match": "^(!#if) (.*)$",
					"captures": {
						"1": {
							"name": "keyword.preprocessor.directive"
						},
						"2": {
							"patterns": [
								{
									"name": "constant.language.platform.name",
									"match": "(adguard_app_windows|adguard_app_mac|adguard_app_android|adguard_app_ios|adguard_ext_chromium|adguard_ext_firefox|adguard_ext_edge|adguard_ext_safari|adguard_ext_opera|adguard_ext_android_cb|adguard|ext_abp|ext_ublock|env_chromium|env_edge|env_firefox|env_mobile|env_safari|false|cap_html_filtering|cap_user_stylesheet)"
								},
								{
									"name": "keyword.control.characters",
									"match": "(&&|!|\\|\\|| )"
								},
								{
									"name": "keyword.control.characters",
									"match": "(\\(|\\))"
								},
								{
									"name": "invalid.illegal",
									"match": ".*"
								}
							]
						}
					}
				},
				{
					"match": "^(!#include) (.*)$",
					"captures": {
						"1": {
							"name": "keyword.preprocessor.directive"
						},
						"2": {
							"name": "string.unquoted"
						}
					}
				},
				{
					"match": "^!#endif\\s*$",
					"name": "keyword.preprocessor.directive"
				},
				{
					"match": "^(!#safari_cb_affinity)(.*)$",
					"captures": {
						"1": {
							"name": "keyword.preprocessor.directive"
						},
						"2": {
							"patterns": [
								{
									"name": "constant.language.contentblocker.name",
									"match": "(all|general|privacy|social|security|other|custom)"
								},
								{
									"name": "keyword.control.characters",
									"match": "(\\(|\\)|,)"
								},
								{
									"name": "invalid.illegal",
									"match": ".*"
								}
							]
						}
					}
				},
				{
					"match": "^(!\\+) (.*)$",
					"captures": {
						"1": {
							"name": "keyword.preprocessor.hint"
						},
						"2": {
							"patterns": [
								{
									"name": "keyword.control.hint.name",
									"match": "(NOT_OPTIMIZED|OPTIMIZED|PLATFORM|NOT_PLATFORM)"
								},
								{
									"name": "constant.language.platform.name",
									"match": "(windows|mac|android|ios|ext_chromium|ext_ff|ext_edge|ext_opera|ext_ublock|ext_safari|ext_android_cb)"
								},
								{
									"name": "keyword.control.characters",
									"match": "(\\(|\\)|,)"
								}
							]
						}
					}
				},
				{
					"match": "^!#.+$",
					"name": "invalid.preprocessor"
				}
			]
		},
		"comments": {
			"patterns": [
				{
					"name": "comment.line",
					"match": "^!.*"
				},
				{
					"name": "comment.line.batch-style",
					"match": "^# .*"
				},
				{
					"name": "comment.line.batch-style",
					"match": "^#$"
				}
			]
		},
		"elemhideRules": {
			"patterns": [
				{
					"match": "^(\\[.+?\\])?(.*?)(#@?\\??#\\^?)(.+)$",
					"captures": {
						"1": {
							"patterns": [
								{
									"include": "#cosmeticRulesOptions"
								}
							]
						},
						"2": {
							"patterns": [
								{
									"include": "#domainListCommaSeparated"
								}
							]
						},
						"3": {
							"name": "keyword.control.adblock"
						},
						"4": {
							"patterns": [
								{
									"include": "#cssSelector"
								}
							]
						}
					}
				}
			]
		},
		"snippetRulesABP": {
			"patterns": [
				{
					"match": "^(.*?)(#\\$#)(((?!\\{([^\\d,]|\\d[^\\d,])*\\}).)*)$",
					"captures": {
						"1": {
							"patterns": [
								{
									"include": "#domainListCommaSeparated"
								}
							]
						},
						"2": {
							"name": "keyword.control.adblock"
						},
						"3": {
							"patterns": [
								{
									"match": "(?<=#\\$\\??#|;)((?:\\s|\\t)*[a-zA-Z0-9-]+)",
									"name": "entity.name.function.abp-scriptlet-name"
								},
								{
									"match": "(?<!#\\$\\??#|;)(?:\\s|\\t)+(?:(\"[^\"\\\\]*(?:\\\\.[^\"\\\\]*)*\")|('[^'\\\\]*(?:\\.[^'\\\\]*)*')|([^;\\s]+))",
									"captures": {
										"1": {
											"name": "string.quoted.double.abp-scriptlet-arg"
										},
										"2": {
											"name": "string.quoted.single.abp-scriptlet-arg"
										},
										"3": {
											"name": "string.unquoted.abp-scriptlet-arg"
										}
									}
								},
								{
									"match": ";",
									"name": "keyword.other.delimiter"
								},
								{
									"match": ".*",
									"name": "invalid.illegal"
								}
							]
						}
					}
				}
			]
		},
		"cssRules": {
			"patterns": [
				{
					"match": "^(\\[.+?\\])?(.*?)(#@?\\$\\??#)(.+)$",
					"captures": {
						"1": {
							"patterns": [
								{
									"include": "#cosmeticRulesOptions"
								}
							]
						},
						"2": {
							"patterns": [
								{
									"include": "#domainListCommaSeparated"
								}
							]
						},
						"3": {
							"name": "keyword.control.adblock"
						},
						"4": {
							"patterns": [
								{
									"include": "#cssStyle"
								}
							]
						}
					}
				}
			]
		},
		"contentRules": {
			"patterns": [
				{
					"match": "^(\\[.+?\\])?(.*?)(\\$@?\\$)(.+?)(\\[.+)?$",
					"captures": {
						"1": {
							"patterns": [
								{
									"include": "#cosmeticRulesOptions"
								}
							]
						},
						"2": {
							"patterns": [
								{
									"include": "#domainListCommaSeparated"
								}
							]
						},
						"3": {
							"name": "keyword.control.adblock"
						},
						"4": {
							"name": "entity.name.function.adblock"
						},
						"5": {
							"patterns": [
								{
									"include": "#contentAttributes"
								}
							]
						}
					}
				}
			]
		},
		"scriptletRules": {
			"patterns": [
				{
					"match": "^(\\[.+?\\])?(.*?)(#@?%#)(\\/\\/scriptlet)(\\()(.+)(\\)\\s*)$",
					"captures": {
						"1": {
							"patterns": [
								{
									"include": "#cosmeticRulesOptions"
								}
							]
						},
						"2": {
							"patterns": [
								{
									"include": "#domainListCommaSeparated"
								}
							]
						},
						"3": {
							"name": "keyword.control.adblock"
						},
						"4": {
							"name": "entity.name.function.adblock"
						},
						"5": {
							"name": "punctuation.section.adblock"
						},
						"6": {
							"patterns": [
								{
									"include": "#scriptletFunction"
								}
							]
						},
						"7": {
							"name": "punctuation.section.adblock"
						}
					}
				}
			]
		},
		"scriptletRulesUBO": {
			"patterns": [
				{
					"match": "^(.*?)(##)(\\+js)(\\()(.+)(\\)\\s*)$",
					"captures": {
						"1": {
							"patterns": [
								{
									"include": "#domainListCommaSeparated"
								}
							]
						},
						"2": {
							"name": "keyword.control.adblock"
						},
						"3": {
							"name": "entity.name.function.adblock"
						},
						"4": {
							"name": "punctuation.section.adblock"
						},
						"5": {
							"patterns": [
								{
									"include": "#scriptletFunctionUBO"
								}
							]
						},
						"6": {
							"name": "punctuation.section.adblock"
						}
					}
				}
			]
		},
		"jsRules": {
			"patterns": [
				{
					"begin": "^(.*?)(#@?%#)",
					"beginCaptures": {
						"1": {
							"patterns": [
								{
									"include": "#domainListCommaSeparated"
								}
							]
						},
						"2": {
							"name": "keyword.control.adblock"
						}
					},
					"end": "$",
					"contentName": "source.js",
					"patterns": [
						{
							"include": "source.js"
						}
					]
				}
			]
		},
		"basicRulesNoUrl": {
			"patterns": [
				{
					"match": "^(\\$)(.+)$",
					"captures": {
						"1": {
							"name": "keyword.control.adblock"
						},
						"2": {
							"patterns": [
								{
									"include": "#basicRulesOptions"
								}
							]
						}
					}
				}
			]
		},
		"basicRules": {
			"patterns": [
				{
					"match": "^(.+?)((\\$(?!\\/))(.*))?$",
					"captures": {
						"1": {
							"patterns": [
								{
									"include": "#urlPattern"
								}
							]
						},
						"3": {
							"name": "keyword.control.adblock"
						},
						"4": {
							"patterns": [
								{
									"include": "#basicRulesOptions"
								}
							]
						}
					}
				}
			]
		},
		"urlPattern": {
			"patterns": [
				{
					"name": "string.regexp.adblock",
					"match": "^(@@)?(\\/)(.+)\\/$",
					"captures": {
						"1": {
							"name": "keyword.other.adblock"
						}
					}
				},
				{
					"match": "^@@\\|?\\|?",
					"name": "keyword.other.adblock"
				},
				{
					"match": "^\\|\\|",
					"name": "keyword.other.adblock"
				},
				{
					"match": "^\\|",
					"name": "keyword.other.adblock"
				},
				{
					"match": "\\|$",
					"name": "keyword.other.adblock"
				},
				{
					"match": "\\^",
					"name": "keyword.other.adblock"
				},
				{
					"match": "\\*",
					"name": "keyword.other.adblock"
				}
			]
		},
		"basicRulesOptions": {
			"patterns": [
				{
					"match": "replace=((\\/)(((\\\\\\/)|[^,\/]|(\\\\,))+?)(\\/)(((\\\\\\/)|[^,\/]|(\\\\,))*?)(\\/)([a-z]*))",
					"name": "keyword.other.adblock",
					"captures": {
						"1": {
							"name": "string.regexp.adblock"
						}
					}
				},
				{
					"match": "(domain|denyallow)(=)([^,]+)",
					"captures": {
						"1": {
							"name": "keyword.other.adblock"
						},
						"2": {
							"name": "keyword.operator.adblock"
						},
						"3": {
							"patterns": [
								{
									"include": "#domainListPipeSeparated"
								}
							]
						}
					}
				},
				{
					"match": "(app)(=)([^,]+)",
					"captures": {
						"1": {
							"name": "keyword.other.adblock"
						},
						"2": {
							"name": "keyword.operator.adblock"
						},
						"3": {
							"patterns": [
								{
									"include": "#appListPipeSeparated"
								}
							]
						}
					}
				},
				{
					"match": "(dnstype)(=)([^,]+)",
					"captures": {
						"1": {
							"name": "keyword.other.adblock"
						},
						"2": {
							"name": "keyword.operator.adblock"
						},
						"3": {
							"patterns": [
								{
									"include": "#dnsTypesPipeSeparated"
								}
							]
						}
					}
				},
				{
					"match": "(client|ctag)(=)(((\\\\,)|[^,])+)",
					"captures": {
						"1": {
							"name": "keyword.other.adblock"
						},
						"2": {
							"name": "keyword.operator.adblock"
						},
						"3": {
							"patterns": [
								{
									"include": "#dnsClientsPipeSeparated"
								}
							]
						}
					}
				},
				{
					"match": "(redirect|redirect-rule|csp|cookie)(=)(((\\\\,)|[^,])+)",
					"name": "keyword.other.adblock",
					"captures": {
						"1": {
							"name": "keyword.other.adblock"
						},
						"2": {
							"name": "keyword.operator.adblock"
						},
						"3": {
							"name": "string.unquoted.adblock"
						}
					}
				},
				{
					"match": "(dnsrewrite)(=)(((\\\\,)|[^,])+)",
					"name": "keyword.other.adblock",
					"captures": {
						"1": {
							"name": "keyword.other.adblock"
						},
						"2": {
							"name": "keyword.operator.adblock"
						},
						"3": {
							"patterns": [
								{
									"name": "keyword.other.delimiter",
									"match": ";"
								},
								{
									"name": "string.unquoted.adblock",
									"match": "[^;]*"
								}
							]
						}
					}
				},
				{
					"match": "(removeheader)(=)(((\\\\,)|[^,])+)",
					"name": "keyword.other.adblock",
					"captures": {
						"1": {
							"name": "keyword.other.adblock"
						},
						"2": {
							"name": "keyword.operator.adblock"
						},
						"3": {
							"patterns": [
								{
									"name": "keyword.other.delimiter",
									"match": ":"
								},
								{
									"name": "string.unquoted.adblock",
									"match": "[^:]*"
								}
							]
						}
					}
				},
				{
					"match": "(rewrite)(=)(abp-resource:)([^,]+)",
					"name": "keyword.other.adblock",
					"captures": {
						"1": {
							"name": "keyword.other.adblock"
						},
						"2": {
							"name": "keyword.operator.adblock"
						},
						"3": {
							"name": "keyword.other.adblock"
						},
						"4": {
							"name": "string.unquoted.adblock"
						}
					}
				},
				{
					"match": "(removeparam|queryprune)(=)(~)?(((\\\\,)|[^,])+)",
					"name": "keyword.other.adblock",
					"captures": {
						"1": {
							"name": "keyword.other.adblock"
						},
						"2": {
							"name": "keyword.operator.adblock"
						},
						"3": {
							"name": "keyword.other.adblock"
						},
						"4": {
							"name": "string.unquoted.adblock"
						}
					}
				},
				{
					"match": "(inline-script|inline-font|mp4|empty|badfilter|genericblock|generichide|network|popup|popunder|important|cookie|csp|replace|stealth|removeparam|queryprune)",
					"name": "keyword.other.adblock"
				},
				{
					"match": "(~?)(xhr|first-party|third-party|match-case|elemhide|content|jsinject|urlblock|document|image|stylesheet|script|object-subrequest|object|font|media|subdocument|xmlhttprequest|websocket|other|webrtc|ping|extension|all|1p|3p|css|frame|ghide|ehide|shide|specifichide)",
					"name": "keyword.other.adblock"
				},
				{
					"match": ",",
					"name": "punctuation.definition.adblock"
				},
				{
					"match": "\\$",
					"name": "invalid.illegal.redundant.modifier.separator"
				}
			]
		},
		"cosmeticRulesOptions": {
			"match": "(\\[)(.+?)(\\])",
			"captures": {
				"1": {
					"name": "keyword.control.adblock"
				},
				"2": {
					"patterns": [
						{
							"match": "(path)(=)(((\\\\,)|[^,])+)",
							"captures": {
								"1": {
									"name": "keyword.other.adblock"
								},
								"2": {
									"name": "keyword.operator.adblock"
								},
								"3": {
									"name": "string.unquoted.adblock"
								}
							}
						},
						{
							"match": "(domain)(=)([^,]+)",
							"captures": {
								"1": {
									"name": "keyword.other.adblock"
								},
								"2": {
									"name": "keyword.operator.adblock"
								},
								"3": {
									"patterns": [
										{
											"include": "#domainListPipeSeparated"
										}
									]
								}
							}
						},
						{
							"match": "(app)(=)([^,]+)",
							"captures": {
								"1": {
									"name": "keyword.other.adblock"
								},
								"2": {
									"name": "keyword.operator.adblock"
								},
								"3": {
									"patterns": [
										{
											"include": "#appListPipeSeparated"
										}
									]
								}
							}
						},
						{
							"match": "\\$",
							"name": "keyword.control.adblock"
						},
						{
							"match": ",",
							"name": "punctuation.definition.adblock"
						},
						{
							"name": "invalid.illegal.adblock",
							"match": ".*"
						}
					]
				},
				"3": {
					"name": "keyword.control.adblock"
				}
			}
		},
		"contentAttributes": {
			"patterns": [
				{
					"match": "(\\[)([^\"=]+?)(\\=)(\".+?\")(\\])",
					"captures": {
						"1": {
							"name": "punctuation.section.adblock"
						},
						"2": {
							"name": "keyword.other.adblock"
						},
						"3": {
							"name": "keyword.operator.adblock"
						},
						"4": {
							"name": "string.quoted.adblock"
						},
						"5": {
							"name": "punctuation.section.adblock"
						}
					}
				},
				{
					"name": "invalid.illegal.adblock",
					"match": ".*"
				}
			]
		},
		"scriptletFunction": {
			"patterns": [
				{
					"match": "((['|\"])(.*?)(?<!\\\\)(\\2))(,\\s*)?",
					"captures": {
						"1": {
							"name": "string.quoted.adblock"
						},
						"5": {
							"name": "keyword.operator.adblock"
						}
					}
				},
				{
					"name": "invalid.illegal.adblock",
					"match": ".*"
				}
			]
		},
		"scriptletFunctionUBO": {
			"patterns": [
				{
					"match": "([^,]*)(,\\s*)?",
					"captures": {
						"1": {
							"name": "string.quoted.adblock"
						},
						"2": {
							"name": "keyword.operator.adblock"
						}
					}
				},
				{
					"name": "invalid.illegal.adblock",
					"match": ".*"
				}
			]
		},
		"cssStyle": {
			"patterns": [
				{
					"match": "([^{}]+)\\s*((\\{)(.+?)(\\}))",
					"captures": {
						"1": {
							"name": "entity.name.function.adblock"
						},
						"3": {
							"name": "punctuation.section.adblock"
						},
						"4": {
							"name": "string.quoted.adblock"
						},
						"5": {
							"name": "punctuation.section.adblock"
						}
					}
				},
				{
					"name": "invalid.illegal.adblock",
					"match": ".*"
				}
			]
		},
		"cssSelector": {
			"patterns": [
				{
					"include": "#cssAttributeSelector"
				},
				{
					"include": "#cssCombinator"
				},
				{
					"include": "#cssEscaping"
				},
				{
					"include": "#cssClassSelector"
				},
				{
					"include": "#cssIDSelector"
				},
				{
					"include": "#cssTagSelector"
				},
				{
					"include": "#cssPseudoElementSelector"
				},
				{
					"include": "#cssPseudoSelector"
				},
				{
					"include": "#cssSeparator"
				},
				{
					"include": "#cssWildcard"
				},
				{
					"include": "#cssWhitespace"
				},
                {
					"include": "#extendedCssRemovePseudo"
				},
				{
					"match": ".*",
					"name": "invalid.illegal.css-selector"
				}
			]
		},
		"cssAttributeSelector": {
			"begin": "(?<!\\\\)(\\[)",
			"beginCaptures": {
				"1": {
					"name": "punctuation.definition.entity.begin"
				}
			},
			"end": "(?<!\\\\)(\\]|$)",
			"endCaptures": {
				"1": {
					"name": "punctuation.definition.entity.end"
				}
			},
			"patterns": [
				{
					"match": "([-a-zA-Z0-9_]*)(?=[=~\\s\\^\\|\\*\\$\\]])(?:\\s*)(?:(=|~=|\\|=|\\^=|\\$=|\\*=)(?:\\s*)(?:(\"[^\"\\\\]*(?:\\\\.[^\"\\\\]*)*\")|('[^'\\\\]*(?:\\.[^'\\\\]*)*')|([^\\s\\]\"']+)))?",
					"captures": {
						"1": {
							"name": "entity.other.attribute-name"
						},
						"2": {
							"name": "keyword.operator.attribute-operation"
						},
						"3": {
							"name": "string.quoted.double"
						},
						"4": {
							"name": "string.quoted.single"
						},
						"5": {
							"name": "string.unquoted"
						}
					}
				},
				{
					"name": "invalid.illegal.attribute-selector",
					"match": ".*"
				}
			]
		},
		"cssCombinator": {
			"match": "(?:(?:\\s*)(>|~|\\+|\\|\\|)(?:\\s*))(?=[-a-zA-Z0-9_\\]\\*\\.#\\[\\s\\:])",
			"name": "keyword.operator.combinator"
		},
		"cssEscaping": {
			"patterns": [
				{
					"match": "\\\\.",
					"name": "constant.character.escape"
				},
				{
					"match": "(?:\\s*)(?<=\\\\.)([-a-zA-Z0-9_]+)(?:\\s*)",
					"captures": {
						"1": {
							"name": "entity.other.escaped-id"
						}
					}
				}
			]
		},
		"cssClassSelector": {
			"patterns": [
				{
					"match": "(?:\\s*)(\\.)([-a-zA-Z0-9_]+)(?:\\s*)",
					"captures": {
						"1": {
							"name": "entity.other"
						},
						"2": {
							"name": "entity.other.class-name"
						}
					}
				}
			]
		},
		"cssIDSelector": {
			"patterns": [
				{
					"match": "(?:\\s*)(#)([-a-zA-Z0-9_]+)(?:\\s*)",
					"captures": {
						"1": {
							"name": "entity.other"
						},
						"2": {
							"name": "entity.other.element-id"
						}
					}
				}
			]
		},
		"cssTagSelector": {
			"patterns": [
				{
					"match": "(?:\\s*)([-a-zA-Z0-9_]+)(?:\\s*)",
					"captures": {
						"1": {
							"name": "entity.name.tag"
						}
					}
				}
			]
		},
		"cssPseudoElementSelector": {
			"patterns": [
				{
					"match": "(?<=[-a-zA-Z0-9_\\]\\(\\)#])(?:(::)(before|after|backdrop|cue|cue-region|file-selector-button|first-letter|first-line))(?=$|[#\\s\\.\\[:\\)])",
					"captures": {
						"1": {
							"name": "keyword.operator.pseudo-element"
						},
						"2": {
							"name": "entity.other.property-name"
						}
					}
				}
			]
		},
		"cssPseudoSelector": {
			"patterns": [
				{
					"begin": "(?:(?<=[-a-zA-Z0-9_\\]\\(\\)#\\*\\+\\s])(:)(-abp-has|has|if-not|not|is)(\\())",
					"beginCaptures": {
						"1": {
							"name": "keyword.operator.pseudo"
						},
						"2": {
							"name": "entity.other.pseudo-class-name"
						},
						"3": {
							"name": "punctuation.section.function.begin.bracket.round"
						}
					},
					"end": "\\)",
					"endCaptures": {
						"0": {
							"name": "punctuation.section.function.end.bracket.round"
						}
					},
					"patterns": [
						{
							"include": "#cssSelector"
						}
					]
				},
				{
					"begin": "(?:(?<=[-a-zA-Z0-9_\\]\\(\\)#\\*\\+\\s])(:)(upward)(\\())",
					"beginCaptures": {
						"1": {
							"name": "keyword.operator.pseudo"
						},
						"2": {
							"name": "entity.other.pseudo-class-name"
						},
						"3": {
							"name": "punctuation.section.function.begin.bracket.round"
						}
					},
					"end": "\\)",
					"endCaptures": {
						"0": {
							"name": "punctuation.section.function.end.bracket.round"
						}
					},
					"patterns": [
						{
							"match": "(?<=\\(\\s*)\\d+(?=(?:\\s*)\\))",
							"name": "constant.numeric"
						},
						{
							"include": "#cssSelector"
						}
					]
				},
				{
					"begin": "(?:(?<=[-a-zA-Z0-9_\\]\\(\\)#\\*\\+\\s])(:)(-abp-contains|contains|has-text)(\\())",
					"beginCaptures": {
						"1": {
							"name": "keyword.operator.pseudo"
						},
						"2": {
							"name": "entity.other.pseudo-class-name"
						},
						"3": {
							"name": "punctuation.section.function.begin.bracket.round"
						}
					},
					"end": "\\)",
					"endCaptures": {
						"0": {
							"name": "punctuation.section.function.end.bracket.round"
						}
					},
					"patterns": [
						{
							"include": "#regularExpression"
						},
						{
							"match": "[^\\)]+",
							"name": "string"
						}
					]
				},
                {
					"begin": "(?:(?<=[-a-zA-Z0-9_\\]\\(\\)#\\*\\+\\s])(:)(xpath)(\\())",
					"beginCaptures": {
						"1": {
							"name": "keyword.operator.pseudo"
						},
						"2": {
							"name": "entity.other.pseudo-class-name"
						},
						"3": {
							"name": "punctuation.section.function.begin.bracket.round"
						}
					},
					"end": "\\)",
					"endCaptures": {
						"0": {
							"name": "punctuation.section.function.end.bracket.round"
						}
					},
					"patterns": [
						{
							"match": "((?:[^\\(\\)])+|\\([^\\)]+\\))",
							"name": "string"
						}
					]
				},
				{
					"begin": "(?:(?<=[-a-zA-Z0-9_\\]\\(\\)#\\*\\+\\s])(:)(matches-attr|matches-property)(\\())",
					"beginCaptures": {
						"1": {
							"name": "keyword.operator.pseudo"
						},
						"2": {
							"name": "entity.other.pseudo-class-name"
						},
						"3": {
							"name": "punctuation.section.function.begin.bracket.round"
						}
					},
					"end": "\\)",
					"endCaptures": {
						"0": {
							"name": "punctuation.section.function.end.bracket.round"
						}
					},
					"patterns": [
						{
							"match": "(?:\\s*)((?:\"[^\"\\\\]*(?:\\\\.[^\"\\\\]*)*\")|(?:'[^'\\\\]*(?:\\.[^'\\\\]*)*'))(?:\\s*)(?:(=)(?:\\s*)(?:(\"[^\"\\\\]*(?:\\\\.[^\"\\\\]*)*\")|('[^'\\\\]*(?:\\.[^'\\\\]*)*')))?",
							"captures": {
								"1": {
									"name": "string.quoted"
								},
								"2": {
									"name": "keyword.operator"
								},
								"3": {
									"name": "string.quoted"
								}
							}
						}
					]
				},
				{
					"begin": "(?:(?<=[-a-zA-Z0-9_\\]\\(\\)#\\*\\+\\s])(:)(matches-css|matches-css-before|matches-css-after)(\\())(?:\\s*)([-a-zA-Z0-9_]+)(?:\\s*)(:)(?:\\s*)",
					"beginCaptures": {
						"1": {
							"name": "keyword.operator.pseudo"
						},
						"2": {
							"name": "entity.other.pseudo-class-name"
						},
						"3": {
							"name": "punctuation.section.function.begin.bracket.round"
						},
						"4": {
							"name": "entity.other.property-name"
						},
						"5": {
							"name": "keyword.operator"
						}
					},
					"end": "\\)",
					"endCaptures": {
						"0": {
							"name": "punctuation.section.function.end.bracket.round"
						}
					},
					"patterns": [
						{
							"include": "#regularExpression"
						},
						{
							"match": "[^\\)]+",
							"name": "string"
						}
					]
				},
				{
					"begin": "(?:(?<=[-a-zA-Z0-9_\\]\\(\\)#\\*\\+\\s])(:)(nth-child|nth-last-child|nth-of-type|nth-last-of-type|nth-ancestor)(\\())",
					"beginCaptures": {
						"1": {
							"name": "keyword.operator.pseudo"
						},
						"2": {
							"name": "entity.other.pseudo-class-name"
						},
						"3": {
							"name": "punctuation.section.function.begin.bracket.round"
						}
					},
					"end": "\\)",
					"endCaptures": {
						"0": {
							"name": "punctuation.section.function.end.bracket.round"
						}
					},
					"patterns": [
						{
							"match": "even|odd|n",
							"name": "support.constant.parity"
						},
						{
							"match": "[-\\+\\-]",
							"name": "keyword.operator"
						},
						{
							"match": "\\d",
							"name": "constant.numeric"
						},
						{
							"match": "[^\\)]+",
							"name": "invalid.illegal"
						}
					]
				},
				{
					"match": "(?<=[-a-zA-Z0-9_\\]\\(\\)#\\*\\+\\s])(:)(fullscreen|modal|picture-in-picture|autofill|enabled|disabled|read-only|read-write|placeholder-shown|default|checked|indeterminate|blank|valid|invalid|in-range|out-of-range|required|optional|user-invalid|any-link|link|visited|local-link|target|target-within|scope|playing|paused|root|empty|first-child|last-child|only-child|first-of-type|last-of-type|only-of-type|hover|active|focus|focus-visible|focus-within)(?=$|[#\\s\\.\\[:\\)+\\~])",
					"captures": {
						"1": {
							"name": "keyword.operator.pseudo"
						},
						"2": {
							"name": "entity.other.pseudo-class-name"
						}
					}
				}
			]
		},
		"cssSeparator": {
			"patterns": [
				{
					"match": "(?:\\s*)\\,(?:\\s*)",
					"name": "punctuation.separator.list.comma"
				}
			]
		},
		"cssWildcard": {
			"patterns": [
				{
					"match": "\\*",
					"name": "entity.name.tag.wildcard"
				}
			]
		},
		"cssWhitespace": {
			"patterns": [
				{
					"match": "\\s",
					"name": "string.whitespace"
				}
			]
		},
		"extendedCssRemovePseudo": {
			"patterns": [
				{
					"match": "(:)(remove\\(\\))\\s*$",
					"captures": {
						"1": {
							"name": "keyword.operator.pseudo"
						},
						"2": {
							"name": "entity.other.pseudo-class-name"
						}
					}
				}
			]
		},
		"regularExpression": {
			"patterns": [
				{
					"begin": "(/)",
					"beginCaptures": {
						"1": {
							"name": "keyword.other.regex.begin"
						}
					},
					"end": "((?<!\\\\)/)([dgimsuy]*)?",
					"endCaptures": {
						"1": {
							"name": "keyword.other.regex.end"
						},
						"2": {
							"name": "keyword.other.regex"
						}
					},
					"contentName": "string.regexp",
					"patterns": [
						{
							"match": "(?<!\\\\)([/\\^\\$\\|])",
							"name": "keyword.control.regex"
						}
					]
				}
			]
		},
		"domainListCommaSeparated": {
			"patterns": [
				{
					"match": "(~?)([a-zA-Z0-9.*-]+)(,?)",
					"captures": {
						"1": {
							"name": "keyword.other.adblock"
						},
						"2": {
							"name": "string.unquoted.adblock"
						},
						"3": {
							"name": "punctuation.definition.adblock"
						}
					}
				},
				{
					"name": "invalid.illegal.domain-list",
					"match": ".*"
				}
			]
		},
		"domainListPipeSeparated": {
			"patterns": [
				{
					"match": "(~?)([a-zA-Z0-9.*-]+)(\\|?)",
					"captures": {
						"1": {
							"name": "keyword.other.adblock"
						},
						"2": {
							"name": "string.unquoted.adblock"
						},
						"3": {
							"name": "punctuation.definition.adblock"
						}
					}
				},
				{
					"name": "invalid.illegal.domain-list",
					"match": ".*"
				}
			]
		},
		"appListPipeSeparated": {
			"patterns": [
				{
					"match": "((~?)([a-zA-Z0-9.-_]+)(\\|?))",
					"captures": {
						"2": {
							"name": "keyword.other.adblock"
						},
						"3": {
							"name": "string.unquoted.adblock"
						},
						"4": {
							"name": "punctuation.definition.adblock"
						}
					}
				},
				{
					"name": "invalid.illegal.app-list",
					"match": ".*"
				}
			]
		},
		"dnsTypesPipeSeparated": {
			"patterns": [
				{
					"match": "((~?)([a-zA-Z0-9.-_]+)(\\|?))",
					"captures": {
						"2": {
							"name": "keyword.other.adblock"
						},
						"3": {
							"name": "string.unquoted.adblock"
						},
						"4": {
							"name": "punctuation.definition.adblock"
						}
					}
				},
				{
					"name": "invalid.illegal.app-list",
					"match": ".*"
				}
			]
		},
		"dnsClientsPipeSeparated": {
			"patterns": [
				{
					"match": "((~?)([^|]+)(\\|?))",
					"captures": {
						"2": {
							"name": "keyword.other.adblock"
						},
						"3": {
							"name": "string.unquoted.adblock"
						},
						"4": {
							"name": "punctuation.definition.adblock"
						}
					}
				},
				{
					"name": "invalid.illegal.app-list",
					"match": ".*"
				}
			]
		}
	},
	"scopeName": "text.adblock"
}
